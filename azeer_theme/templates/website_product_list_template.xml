<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<!-- /shop product listing -->
		<template id="website_sale.products" name="Products Azeer">
		    <t t-call="website.layout">
		        <t t-set="additional_title">Shop</t>
		        <div id="wrap" class="js_sale">
		            <div class="oe_structure oe_empty oe_structure_not_nearest" id="oe_structure_website_sale_products_1"/>
		            <div class="container oe_website_sale pt-2">
		                <div class="row o_wsale_products_main_row">
		                    <div t-if="enable_left_column" id="products_grid_before" class="col-lg-3 pb-2">
		                        <div class="products_categories"/>
		                        <div class="products_attributes_filters"/>
		                    </div>
		                    <div id="products_grid" t-attf-class="col #{'o_wsale_layout_list' if layout_mode == 'list' else ''}">
		                        <t t-call="website_sale.products_breadcrumb">
		                            <t t-set="_classes" t-valuef="w-100"/>
		                        </t>
		                        <!-- Header section -->
		                        <div class="products_header form-inline flex-md-nowrap justify-content-end mb-4">
		                        	<h1>Newest Products</h1>
		                            
		                            <t t-call="website_sale.pricelist_list">
		                                <t t-set="_classes" t-valuef="ml-3 mb-2"/>
		                            </t>

		                            <t t-set="list_price_asc_label">Price - Low to High</t>
		                            <t t-set="list_price_desc_label">Price - High to Low</t>
		                            <t t-set="newest_arrivals_desc_label">Newest arrivals</t>
		                            <t t-set="name_asc_label">Name</t>
		                            <t t-set="website_sale_sortable" t-value="[
		                                (list_price_asc_label, 'list_price asc'),
		                                (list_price_desc_label, 'list_price desc'),
		                                (newest_arrivals_desc_label, 'create_date desc'),
		                                (name_asc_label, 'name asc')
		                            ]"/>
		                            <t t-set="website_sale_sortable_current" t-value="[sort for sort in website_sale_sortable if sort[1]==request.params.get('order', '')]"/>
		                            <!-- Sort by div -->
		                            <div class="o_sortby_dropdown dropdown dropdown_sorty_by ml-3 pb-2">
		                                <a role="button" href="#" class="dropdown-toggle btn btn-light border-0 px-0 text-muted align-baseline" data-toggle="dropdown">
		                                    <span class="d-none d-lg-inline">
		                                        <t t-if='website_sale_sortable_current'>
		                                            <t t-esc="website_sale_sortable_current[0][0]"/>
		                                        </t>
		                                        <t t-else='1'>
		                                            Sort By
		                                        </t>
		                                    </span>
		                                    <i class="fa fa-sort-amount-asc d-lg-none"/>
		                                </a>
		                                <div class="dropdown-menu dropdown-menu-right" role="menu">
		                                    <t t-foreach="website_sale_sortable" t-as="sortby">
		                                        <a role="menuitem" rel="noindex,nofollow" t-att-href="keep('/shop', order=sortby[1])" class="dropdown-item">
		                                            <span t-out="sortby[0]"/>
		                                        </a>
		                                    </t>
		                                </div>
		                            </div>
		                        </div>
		                        <div t-if="original_search and bins" class="alert alert-warning mt8">
		                            No results found for '<span t-esc="original_search"/>'. Showing results for '<span t-esc="search"/>'.
		                        </div>
		                        <t t-if="category">
		                            <t t-set='editor_msg'>Drag building blocks here to customize the header for "<t t-esc='category.name'/>" category.</t>
		                            <div class="mb16" id="category_header" t-att-data-editor-message="editor_msg" t-field="category.website_description"/>
		                        </t>
		                        <div t-if="bins" class="o_wsale_products_grid_table_wrapper">
		                            <table class="table table-borderless m-0" t-att-data-ppg="ppg" t-att-data-ppr="ppr">
		                                <colgroup t-ignore="true">
		                                    <!-- Force the number of columns (useful when only one row of (x < ppr) products) -->
		                                    <col t-foreach="ppr" t-as="p"/>
		                                </colgroup>
		                                <tbody>
		                                    <tr t-foreach="bins" t-as="tr_product">
		                                        <t t-foreach="tr_product" t-as="td_product">
		                                            <t t-if="td_product">
		                                                <t t-set="product" t-value="td_product['product']" />
		                                                <!-- We use t-attf-class here to allow easier customization -->
		                                                <td t-att-colspan="td_product['x'] != 1 and td_product['x']"
		                                                    t-att-rowspan="td_product['y'] != 1 and td_product['y']"
		                                                    t-attf-class="oe_product"
		                                                    t-att-data-ribbon-id="td_product['ribbon'].id">
		                                                    <div t-attf-class="o_wsale_product_grid_wrapper o_wsale_product_grid_wrapper_#{td_product['x']}_#{td_product['y']}">
		                                                        <t t-call="website_sale.products_item">
		                                                            <t t-set="product_image_big" t-value="td_product['x'] + td_product['y'] &gt; 2"/>
		                                                        </t>
		                                                    </div>
		                                                </td>
		                                            </t>
		                                            <td t-else=""/>
		                                        </t>
		                                    </tr>
		                                </tbody>
		                            </table>
		                        </div>
		                        <t t-else="">
		                            <div class="text-center text-muted">
		                                <t t-if="not search">
		                                    <h3 class="mt8">No product defined</h3>
		                                    <p t-if="category">No product defined in category "<strong t-esc="category.display_name"/>".</p>
		                                </t>
		                                <t t-else="">
		                                    <h3 class="mt8">No results</h3>
		                                    <p>No results for "<strong t-esc='search'/>"<t t-if="category"> in category "<strong t-esc="category.display_name"/>"</t>.</p>
		                                </t>
		                                <p t-ignore="true" groups="sales_team.group_sale_manager">Click <i>'New'</i> in the top-right corner to create your first product.</p>
		                            </div>
		                        </t>
		                        <div class="products_pager form-inline justify-content-center py-3">
		                            <t t-call="website.pager"/>
		                        </div>
		                    </div>
		                </div>
		            </div>
		            <div class="oe_structure oe_empty oe_structure_not_nearest" id="oe_structure_website_sale_products_2"/>
		        </div>
		    </t>
		</template>

		<!-- List of products -->
		<template id="website_sale.products_item" name="Products item azeer">
		    <t t-set="product_href" t-value="keep(product.website_url, page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))" />

		    <t t-set="combination_info" t-value="product._get_combination_info(only_template=True, add_qty=add_qty or 1, pricelist=pricelist)"/>

		    <form action="/shop/cart/update" method="post" class="card oe_product_cart"
		        t-att-data-publish="product.website_published and 'on' or 'off'"
		        itemscope="itemscope" itemtype="http://schema.org/Product">
		        <a class="o_product_link css_editable_mode_hidden" t-att-href="product_href"/>
		        <div class="card-body p-1 oe_product_image">
		            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
		            <a t-att-href="product_href" class="d-block h-100" itemprop="url">
		                <t t-set="image_holder" t-value="product._get_image_holder()"/>
		                <span t-field="image_holder.image_1920"
		                    t-options="{'widget': 'image', 'preview_image': 'image_1024' if product_image_big else 'image_256', 'itemprop': 'image'}"
		                    class="d-flex h-100 justify-content-center align-items-center"/>
		            </a>
		        </div>
		        <div class="card-body p-0 o_wsale_product_information">
		            <div class="p-2 o_wsale_product_information_text">
		                <h6 class="o_wsale_products_item_title mb-1">
		                    <a class="text-primary text-decoration-none" itemprop="name" t-att-href="product_href" t-att-content="product.name" t-field="product.name" />
		                    <a role="button" t-if="not product.website_published" t-att-href="product_href" class="btn btn-sm btn-danger" title="This product is unpublished.">Unpublished</a>
		                </h6>
		                <!-- Price div -->
		                <div class="product-price-list-azeer">
		                <h5>Price:</h5>
			                <div class="product_price mb-1" itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer">
			                    <span class="h5" t-if="combination_info['price']" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
			                    <del t-attf-class="text-danger ml-1 h6 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" />
			                    <span itemprop="price" style="display:none;" t-esc="combination_info['price']" />
			                    <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name" />
			                </div>
			            </div>
		                <!-- Star rating -->
		                <t t-if="is_view_active('website_sale.product_comment')" t-call="portal_rating.rating_widget_stars_static">
		                    <t t-set="rating_avg" t-value="product.rating_avg"/>
		                </t>
		            </div>
		            <div class="o_wsale_product_btn pl-2"/>
		        </div>
		        <t t-set="bg_color" t-value="td_product['ribbon']['bg_color'] or ''"/>
		        <t t-set="text_color" t-value="td_product['ribbon']['text_color']"/>
		        <t t-set="bg_class" t-value="td_product['ribbon']['html_class']"/>
		        <span t-attf-class="o_ribbon #{bg_class}" t-attf-style="#{text_color and ('color: %s; ' % text_color)}#{bg_color and 'background-color:' + bg_color}" t-out="td_product['ribbon']['html'] or ''"/>
		    </form>
		</template>

		<template id="portal.pager" name="Pager">
		        <ul t-if="pager['page_count'] > 1" t-attf-class="#{ classname or '' } pagination m-0 #{_classes}" t-att-style="style or None">
		            <li t-attf-class="page-item #{'disabled' if pager['page']['num'] == 1 else ''}">
		                <a t-att-href=" pager['page_previous']['url'] if pager['page']['num'] != 1 else None" t-attf-class="page-link #{extraLinkClass}" ><i class="fa fa-angle-double-left"></i></a>
		            </li>
		            <t t-foreach="pager['pages']" t-as="page">
		                <li t-attf-class="page-item #{'active' if page['num'] == pager['page']['num'] else ''}"> <a t-att-href="page['url']" t-attf-class="page-link #{extraLinkClass}" t-out="page['num']"/></li>
		            </t>
		            <li t-attf-class="page-item #{'disabled' if pager['page']['num'] == pager['page_count'] else ''}">
		                <a t-att-href="pager['page_next']['url'] if pager['page']['num'] != pager['page_count'] else None" t-attf-class="page-link #{extraLinkClass}" ><i class="fa fa-angle-double-right"></i></a>
		            </li>
		        </ul>
		    </template>

	</data>
</odoo>
